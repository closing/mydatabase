<?xml version="1.0" encoding="UTF-8"?>
<web-app xmlns="http://xmlns.jcp.org/xml/ns/javaee"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee
                      http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd"
  version="3.1"
  metadata-complete="true">

  <display-name>Example</display-name>
  <description>    The examples of Java Servlet Programming 2rd!  </description>
  <!-- Chapter2 START -->
  <servlet>
    <servlet-name>HelloWorld</servlet-name>
    <servlet-class>chr02.HelloWorld</servlet-class>
  </servlet>
  <servlet>
    <servlet-name>hello</servlet-name>
    <servlet-class>chr02.HelloServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>HelloWorld</servlet-name>
    <url-pattern>/HelloWorld</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
    <servlet-name>hello</servlet-name>
    <url-pattern>/hello</url-pattern>
  </servlet-mapping>
  <!--Chapter2 END -->
  <!--Chapter3 START -->
  <servlet>
    <servlet-name>simple</servlet-name>
    <servlet-class>chr03.SimpleCounterServlet</servlet-class>
  </servlet>
  <servlet>
    <servlet-name>holistic1</servlet-name>
    <servlet-class>chr03.HolisticCounterServlet</servlet-class>
  </servlet>
  <servlet>
    <servlet-name>holistic2</servlet-name>
    <servlet-class>chr03.HolisticCounterServlet</servlet-class>
  </servlet>
  <servlet>
    <servlet-name>init</servlet-name>
    <servlet-class>chr03.InitCounterServlet</servlet-class>
    <init-param>
      <param-name>initial</param-name>
      <param-value>1000</param-value>
      <description>
        The initial value for the couter
      </description>
    </init-param>
  </servlet>
  <servlet>
    <servlet-name>initdestroy</servlet-name>
    <servlet-class>chr03.InitDestroyCounterServlet</servlet-class>
    <init-param>
      <param-name>initial</param-name>
      <param-value>1000</param-value>
      <description>Option</description>
    </init-param>
  </servlet>
  <servlet>
    <servlet-name>prime</servlet-name>
    <servlet-class>chr03.PrimeSearcherServlet</servlet-class>
    <load-on-startup>10</load-on-startup>
  </servlet>
  <servlet>
    <servlet-name>guestbook</servlet-name>
    <servlet-class>chr03.GuestBookServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>simple</servlet-name>
    <url-pattern>/simple</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
    <servlet-name>holistic1</servlet-name>
    <url-pattern>/holistic1</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
    <servlet-name>holistic2</servlet-name>
    <url-pattern>/holistic2</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
    <servlet-name>init</servlet-name>
    <url-pattern>/init</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
    <servlet-name>initdestroy</servlet-name>
    <url-pattern>/initdestroy</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
    <servlet-name>prime</servlet-name>
    <url-pattern>/prime</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
    <servlet-name>guestbook</servlet-name>
    <url-pattern>/guestbook</url-pattern>
  </servlet-mapping>
  <!-- Chapter 3 END -->
  <!-- Chapter 4 START -->
  <context-param>
    <param-name>rmihost</param-name>
    <param-value>localhost</param-value>
  </context-param>
  <context-param>
    <param-name>rmiport</param-name>
    <param-value>1099</param-value>
  </context-param>
  <servlet>
    <servlet-name>initsnoop</servlet-name>
    <servlet-class>chr04.InitSnoopServlet</servlet-class>
    <init-param>
      <param-name>param1</param-name>
      <param-value>value1</param-value>
    </init-param>
  </servlet>
  <servlet-mapping>
    <servlet-name>initsnoop</servlet-name>
    <url-pattern>/initsnoop</url-pattern>
  </servlet-mapping>
  <servlet>
    <servlet-name>serversnoop</servlet-name>
    <servlet-class>chr04.ServerSnoopServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>serversnoop</servlet-name>
    <url-pattern>/serversnoop</url-pattern>
  </servlet-mapping>
  <servlet>
    <servlet-name>keyedserverlock</servlet-name>
    <servlet-class>chr04.KeyedServerLockServlet</servlet-class>
    <init-param>
      <param-name>key</param-name>
      <param-value>-9151314447111823249</param-value>
    </init-param>
  </servlet>
  <servlet-mapping>
    <servlet-name>keyedserverlock</servlet-name>
    <url-pattern>/keyedserverlock</url-pattern>
  </servlet-mapping>
  <servlet>
    <servlet-name>version</servlet-name>
    <servlet-class>chr04.VersionSnoopServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>version</servlet-name>
    <url-pattern>/version</url-pattern>
  </servlet-mapping>
  <servlet>
    <servlet-name>restriction</servlet-name>
    <servlet-class>chr04.ExportRestrictionServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>restriction</servlet-name>
    <url-pattern>/restriction</url-pattern>
  </servlet-mapping>
  <servlet>
    <servlet-name>person</servlet-name>
    <servlet-class>chr04.PersonalizedWelcomeServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>person</servlet-name>
    <url-pattern>/person</url-pattern>
  </servlet-mapping>
  <servlet>
    <servlet-name>param</servlet-name>
    <servlet-class>chr04.ParameterSnoopServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>param</servlet-name>
    <url-pattern>/param</url-pattern>
  </servlet-mapping>
  <servlet>
    <servlet-name>keyedserverunlock</servlet-name>
    <servlet-class>chr04.KeyedServerUnlockServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>keyedserverunlock</servlet-name>
    <url-pattern>/keyedserverunlock</url-pattern>
  </servlet-mapping>
  <servlet>
    <servlet-name>filelocation</servlet-name>
    <servlet-class>chr04.FileLocationServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>filelocation</servlet-name>
    <url-pattern>/filelocation/*</url-pattern>
  </servlet-mapping>
  <servlet>
    <servlet-name>viewfile</servlet-name>
    <servlet-class>chr04.ViewFileServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>viewfile</servlet-name>
    <url-pattern>/viewfile/*</url-pattern>
  </servlet-mapping>
  <servlet>
    <servlet-name>unsafeviewresource</servlet-name>
    <servlet-class>chr04.UnsafeViewResourceServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>unsafeviewresource</servlet-name>
    <url-pattern>/unsafeviewresource/*</url-pattern>
  </servlet-mapping>
  <servlet>
    <servlet-name>viewresource</servlet-name>
    <servlet-class>chr04.ViewResourceServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>viewresource</servlet-name>
    <url-pattern>/viewresource/*</url-pattern>
  </servlet-mapping>
  <!-- Chapter 4 END -->
  <!-- Chapter 5 START -->
  <servlet>
    <servlet-name>helloworldservlet</servlet-name>
    <servlet-class>chr05.HelloWorldServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>helloworldservlet</servlet-name>
    <url-pattern>/helloworldservlet</url-pattern>
  </servlet-mapping>
  <servlet>
    <servlet-name>keepalive</servlet-name>
    <servlet-class>chr05.KeepAliveServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>keepalive</servlet-name>
    <url-pattern>/keepalive</url-pattern>
  </servlet-mapping>
  <servlet>
    <servlet-name>buffer</servlet-name>
    <servlet-class>chr05.BufferingServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>buffer</servlet-name>
    <url-pattern>/buffer</url-pattern>
  </servlet-mapping>
  <servlet>
    <servlet-name>siteselector</servlet-name>
    <servlet-class>chr05.SiteSelectorServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>siteselector</servlet-name>
    <url-pattern>/siteselector</url-pattern>
  </servlet-mapping>
  <servlet>
    <servlet-name>goto</servlet-name>
    <servlet-class>chr05.GoToServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>goto</servlet-name>
    <url-pattern>/goto/*</url-pattern>
  </servlet-mapping>
  <servlet>
    <servlet-name>clientpull</servlet-name>
    <servlet-class>chr05.ClientPullServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>clientpull</servlet-name>
    <url-pattern>/clientpull</url-pattern>
  </servlet-mapping>
  <servlet>
    <servlet-name>clientmove</servlet-name>
    <servlet-class>chr05.ClientPullMoveServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>clientmove</servlet-name>
    <url-pattern>/clientmove</url-pattern>
  </servlet-mapping>
  <servlet>
    <servlet-name>errordisplay</servlet-name>
    <servlet-class>chr05.ErrorDisplayServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>errordisplay</servlet-name>
    <url-pattern>/errordisplay</url-pattern>
  </servlet-mapping>
  <error-page>
    <error-code>400</error-code>
    <location>/errordisplay</location>
  </error-page>
  <error-page>
    <error-code>404</error-code>
    <location>/errordisplay</location>
  </error-page>
  <error-page>
    <exception-type>javax.servlet.ServletException</exception-type>
    <location>/errordisplay</location>
  </error-page>
  
  <!--
  <error-page>
    <error-code>400</error-code>
    <location>/400.html</location>
  </error-page>
  <error-page>
    <error-code>404</error-code>
    <location>/404.html</location>
  </error-page>
  -->
  <!-- Chapter 5 END -->
  <!-- Chapter 6 START -->
  <servlet>
    <servlet-name>areacode</servlet-name>
    <servlet-class>chr06.AreaCodeServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>areacode</servlet-name>
    <url-pattern>/areacode</url-pattern>
  </servlet-mapping>
  <servlet>
    <servlet-name>helloimage</servlet-name>
    <servlet-class>chr06.HelloWorldGraphicsServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>helloimage</servlet-name>
    <url-pattern>/areacode</url-pattern>
  </servlet-mapping>
  <mime-mapping>
    <extension>wml</extension>
    <mime-type>text/vnd.wap.wml</mime-type>
  </mime-mapping>
  <mime-mapping>
    <extension>wmls</extension>
    <mime-type>text/vnd.wap.wmlscript</mime-type>
  </mime-mapping>
  <mime-mapping>
    <extension>wbmp</extension>
    <mime-type>image/vnd.wap.wbmp</mime-type>
  </mime-mapping>
  <welcome-file-list>
    <welcome-file>index.html</welcome-file>
    <welcome-file>index.htm</welcome-file>
    <welcome-file>index.wml</welcome-file>
  </welcome-file-list>
  <!-- Chapter 6 END -->
  <!-- Chapter 7 START -->
  <servlet>
    <servlet-name>viewhidden</servlet-name>
    <servlet-class>chr07.ShoppingCartViewerHiddenServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>viewhidden</servlet-name>
    <url-pattern>/viewhidden</url-pattern>
  </servlet-mapping>
  <servlet>
    <servlet-name>viewcartrewrite</servlet-name>
    <servlet-class>chr07.ShoppingCartViewerRewriteServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>viewcartrewrite</servlet-name>
    <url-pattern>/viewcartrewrite</url-pattern>
  </servlet-mapping>
  <servlet>
    <servlet-name>viewcartcookie</servlet-name>
    <servlet-class>chr07.ShoppingCartViewerCookieServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>viewcartcookie</servlet-name>
    <url-pattern>/viewcartcookie</url-pattern>
  </servlet-mapping>
  <servlet>
    <servlet-name>viewcartsession</servlet-name>
    <servlet-class>chr07.ShoppingCartViewerSessionServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>viewcartsession</servlet-name>
    <url-pattern>/viewcartsession</url-pattern>
  </servlet-mapping>
  <servlet>
    <servlet-name>sessiontracker</servlet-name>
    <servlet-class>chr07.SessionTrackerServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>sessiontracker</servlet-name>
    <url-pattern>/sessiontracker</url-pattern>
  </servlet-mapping>
  <servlet>
    <servlet-name>sessiontimer</servlet-name>
    <servlet-class>chr07.SessionTimerServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>sessiontimer</servlet-name>
    <url-pattern>/sessiontimer</url-pattern>
  </servlet-mapping>
  <servlet>
    <servlet-name>invalidate</servlet-name>
    <servlet-class>chr07.ManualInvalidateServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>invalidate</servlet-name>
    <url-pattern>/invalidate</url-pattern>
  </servlet-mapping>
  <servlet>
    <servlet-name>sessionsnoop</servlet-name>
    <servlet-class>chr07.SessionSnoopServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>sessionsnoop</servlet-name>
    <url-pattern>/sessionsnoop</url-pattern>
  </servlet-mapping>
  <servlet>
    <servlet-name>sessionbind</servlet-name>
    <servlet-class>chr07.SessionBindingsServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>sessionbind</servlet-name>
    <url-pattern>/sessionbind</url-pattern>
  </servlet-mapping>
  <session-config>
    <session-timeout>60</session-timeout>
  </session-config>
  <!-- Chapter 7 END -->
  <!-- Chapter 8 START -->
  <servlet>
    <servlet-name>salary</servlet-name>
    <servlet-class>chr08.SalaryServerServlet</servlet-class>
    <!-- <security-role-ref>
      <role-name>adm</role-name>
      <role-link>admin</role-link>
    </security-role-ref> -->
  </servlet>
  <servlet-mapping>
    <servlet-name>salary</servlet-name>
    <url-pattern>/salary</url-pattern>
  </servlet-mapping>
  <servlet>
    <servlet-name>authsnoop</servlet-name>
    <servlet-class>chr08.AuthenticationSnoopServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>authsnoop</servlet-name>
    <url-pattern>/authsnoop</url-pattern>
  </servlet-mapping>
  <security-constraint>
    <web-resource-collection>
      <web-resource-name>SecretProtection</web-resource-name>
      <url-pattern>/salary</url-pattern>
      <url-pattern>/secret</url-pattern>
      <url-pattern>/authsnoop</url-pattern>
      <http-method>GET</http-method>
      <http-method>POST</http-method>
    </web-resource-collection>
    <auth-constraint>
      <role-name>admin</role-name>
    </auth-constraint>
    <user-data-constraint>
      <transport-guarantee>
        CONFIDENTIAL <!-- INTEGRAL or CONFIDENTIAL -->
      </transport-guarantee>
    </user-data-constraint>
  </security-constraint>
  <login-config>
    <!-- <auth-method></auth-method> --> <!-- BASIC, DIGEST, FORM, CLIENT-CERT -->
    <!-- <auth-method>FORM</auth-method> -->
    <auth-method>CLIENT-CERT</auth-method> <!-- client must be recognized using X.509 cert -->
    <!-- <realm-name>Default</realm-name> --> <!-- optional, only useful for BASIC -->
    <form-login-config>
      <form-login-page>/chr08/loginpage.html</form-login-page>
      <form-error-page>/chr08/errorpage.html</form-error-page>
    </form-login-config>
  </login-config>
  <security-role>
    <role-name>admin</role-name>
  </security-role>
  <servlet>
    <servlet-name>customauth</servlet-name>
    <servlet-class>chr08.CustomAuthServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>customauth</servlet-name>
    <url-pattern>/customauth</url-pattern>
  </servlet-mapping>
  <servlet>
    <servlet-name>loginhandler</servlet-name>
    <servlet-class>chr08.LoginHandlerServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>loginhandler</servlet-name>
    <url-pattern>/loginhandler</url-pattern>
  </servlet-mapping>
  <servlet>
    <servlet-name>protected</servlet-name>
    <servlet-class>chr08.ProtectedResourceServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>protected</servlet-name>
    <url-pattern>/protected</url-pattern>
  </servlet-mapping>
  <servlet>
    <servlet-name>x509snoop</servlet-name>
    <servlet-class>chr08.X509SnoopServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>x509snoop</servlet-name>
    <url-pattern>/x509snoop</url-pattern>
  </servlet-mapping>
  <!-- Chapter 8 END -->
  <!-- Chapter 10 START -->
  <servlet>
    <servlet-name>daytime</servlet-name>
    <servlet-class>chr10.DaytimeServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>daytime</servlet-name>
    <url-pattern>/daytime</url-pattern>
  </servlet-mapping>
  <servlet>
    <servlet-name>chat</servlet-name>
    <servlet-class>chr10.ChatServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>chat</servlet-name>
    <url-pattern>/chat</url-pattern>
  </servlet-mapping>
  <servlet>
    <servlet-name>chatdispatch</servlet-name>
    <servlet-class>chr10.ChatDispatch</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>chatdispatch</servlet-name>
    <url-pattern>/chatdispatch</url-pattern>
  </servlet-mapping>
  <!-- Chapter 10 END -->
</web-app>
